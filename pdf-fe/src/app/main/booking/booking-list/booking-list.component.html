<div class="row">
    <div class="col-lg-12">
        <div class="d-flex align-items-center user-member__title mb-30 mt-30">
            <h4 class="text-capitalize">Booking list</h4>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="userDatatable global-shadow border-light-0 p-30 bg-white radius-xl w-100 mb-30">
            <div class="table-responsive">
                <table class="table mb-0 table-borderless">
                    <thead>
                        <tr class="userDatatable-header">
                            <th>
                                <span class="userDatatable-title">No.</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Agent name</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Staff name</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Customer name</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Date</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Passengers</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Nights</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Departure</span>
                            </th>
                            <th>
                                <span class="userDatatable-title">Arrival</span>
                            </th>
                            <th>
                                <span class="userDatatable-title float-end">action</span>
                            </th>
                        </tr>
                    </thead>
                    <tbody *ngIf="!isListLoading">
                        <tr *ngFor="let r of list;let ndx = index;">
                            <td>
                                {{ ndx+1 }}
                            </td>
                            <td>
                                {{ r.agentFullName }}
                            </td>
                            <td>
                                {{ r.staffFulName }}
                            </td>
                            <td>
                                {{r.customerName}}
                            </td>
                            <td>
                                {{r.date}}
                            </td>
                            <td>
                                {{r.passengers}}
                            </td>
                            <td>
                                {{r.nights}}
                            </td>
                            <td>
                                {{r.departure}}
                            </td>
                            <td>
                                {{r.arrival}}
                            </td>
                            <td>
                                <ul class="orderDatatable_actions mb-0 d-flex flex-wrap">
                                    <li *ngIf="!r.status &&user?.userType!=3">
                                        <a  style="cursor: pointer;" class="check" (click)="onStatusChange(r.id,'Rejected')">
                                            <i class="uil uil-times"></i>
                                        </a>
                                    </li>
                                    <li *ngIf="r.status && user?.userType!=3">
                                        <span class="badge {{r.status =='Accepted'?'bg-success':'bg-danger'}}" style="border-radius: 5px;">
                                            {{r.status}}
                                        </span>
                                    </li>
                                    <li *ngIf="!r.status &&user?.userType!=3">
                                        <a  style="cursor: pointer;" class="check" (click)="onStatusChange(r.id,'Accepted')">
                                            <i class="uil uil-check"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a [routerLink]="['/booking/edit',r.id]" style="cursor: pointer;" class="view">
                                            <i class="uil uil-edit"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="edit" style="cursor: pointer;" (click)="onPrintClick(r.id)"
                                            id="{{ 'loadericon'+r.id }}">
                                            <i class="uil uil-print"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="edit" style="cursor: pointer;" (click)="onPrintClick2(r.id)"
                                        id="{{ 'loadericon1'+r.id }}">
                                            <i class="uil uil-bill"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="edit" style="cursor: pointer;" (click)="onPrintClick3(r.id)"
                                        id="{{ 'loadericon3'+r.id }}">
                                            <i class="uil uil-receipt-alt"></i>
                                        </a>
                                    </li>
                                    <li *ngIf="user?.userType!=3">
                                        <a class="remove" style="cursor: pointer;" (click)="onBookingDelete(r)" >
                                            <i class="uil uil-trash-alt"></i>
                                        </a>
                                    </li>
                                </ul>

                            </td>
                        </tr>
                    </tbody>
                    <tbody *ngIf="isListLoading">
                        <tr>
                            <td colspan="10" class="text-center">
                                <img src="assets/img/pulse_loader.svg" alt="" style="height: 50px;">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>




<div class="modal-info-confirmed modal fade" id="modal-info-confirmed" tabindex="-1" aria-modal="true" role="dialog">
    <div class="modal-dialog modal-sm modal-info" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-info-body d-flex">
                    <div class="modal-info-icon warning">
                        <img src="assets/img/svg/alert-circle.svg" alt="alert-circle" class="svg">
                    </div>
                    <div class="modal-info-text">
                        <h6>Delete booking!</h6>
                        <p>Are you sure you want to delete? </p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light btn-outlined btn-sm" data-bs-dismiss="modal"
                    (click)="this.deleteobj={};">Cancel</button>
                <button type="button" class="btn btn-info btn-sm" data-bs-dismiss="modal"
                    (click)="onDeleteConfirm(deleteobj?.id)">Ok</button>
            </div>
        </div>
    </div>
</div>