<div class="row">
    <div class="col-lg-12">
        <div class="d-flex align-items-center user-member__title mb-30 mt-30">
            <h4 class="text-capitalize">add booking</h4>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="user-info-tab w-100 bg-white global-shadow radius-xl mb-50">
            <div class="userDatatable global-shadow border-light-0 p-30 bg-white radius-xl w-100 mb-30">

                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Agent name</label>
                                <ng-select2 class="form-control ih-medium p-0" [(ngModel)]="model.agentName"
                                    [data]="agents" [placeholder]="'Please select an agent'">
                                </ng-select2>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Staff name</label>
                                <ng-select2 class="form-control ih-medium p-0" [(ngModel)]="model.staffName"
                                    [data]="staffs" [placeholder]="'Please select a staff'">
                                </ng-select2>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Date</label>
                                <!-- <input type="text" class="form-control ih-medium flatpickr-minimum" name="Date" placeholder="Select date.." 
                                
                                [(ngModel)]="model.date"
                                /> -->
                                <app-date-picker name="date" [(date)]="model.date"></app-date-picker>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Order no.</label>
                                <input class="form-control ih-medium " type="text" name="OrderNo"
                                    placeholder="Enter order number" [(ngModel)]="model.orderNo" />
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Passengers</label>
                                <input class="form-control ih-medium " type="text" name="Passengers"
                                    placeholder="Enter passengers" [(ngModel)]="model.passengers" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Nights</label>
                                <input class="form-control ih-medium " type="text" name="Nights"
                                    placeholder="Enter nights" [(ngModel)]="model.nights" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Departure</label>
                                <app-date-picker name="departure" [(date)]="model.departure"></app-date-picker>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Arrival</label>
                                <!-- <input class="form-control ih-medium  flatpickr-minimum" type="text" name="Arrival" placeholder="Enter arrival" 
                                [(ngModel)]="model.arrival"
                                /> -->
                                <app-date-picker name="Arrival" [(date)]="model.arrival"></app-date-picker>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Customer name</label>
                                <input class="form-control ih-medium " type="text" name="CustomerName"
                                    placeholder="Enter customer name" [(ngModel)]="model.customerName" />
                            </div>
                        </div>
                    </div>
                    <fieldset class="border mb-3 mt-4 pb-3 pe-3 ps-3 mb-5">
                        <div class="row">
                            <legend class="col-md-12">
                                <h3 class="bg-lighter border border-2 p-2" style="width: 200px;margin-top: -24px;">
                                    Destinations</h3>
                            </legend>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Destinations</label>
                                    <ng-select2 class="form-control ih-medium p-0"
                                        [(ngModel)]="model.destination.destination" [data]="destinationData"
                                        [placeholder]="'Please select destination'"
                                        (valueChanged)="onDestinationChange($event)">

                                    </ng-select2>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">To</label>
                                    <!-- <input class="form-control ih-medium  flatpickr-minimum" type="text" name="dateTo" placeholder="Enter date to" 
                                    [(ngModel)]="model.destination.dateTo"
                                    /> -->
                                    <app-date-picker name="dateTo"
                                        [(date)]="model.destination.dateTo"></app-date-picker>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">From</label>
                                    <!-- <input class="form-control ih-medium  flatpickr-minimum" type="text" name="dateFrom" placeholder="Enter date from" 
                                    [(ngModel)]="model.destination.dateFrom"
                                    /> -->
                                    <app-date-picker name="dateFrom"
                                        [(date)]="model.destination.dateFrom"></app-date-picker>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <!-- <div class="col-md-12">
                        </div> -->
                    <fieldset class="border mb-3 mt-4 pb-3 pe-3 ps-3 mb-5">
                        <div class="row">
                            <legend class="col-md-12">
                                <h3 class="bg-lighter border border-2 p-2" style="width: 200px;margin-top: -24px;">
                                    Internal flight</h3>
                            </legend>
                            <!-- <div class="col-md-12">
                            <h3></h3>
                        </div> -->
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">From</label>
                                    <input class="form-control ih-medium " type="text" name="flightFrom"
                                        placeholder="Enter flight from" [(ngModel)]="model.flight.from" />

                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">To</label>
                                    <input class="form-control ih-medium " type="text" name="flightTo"
                                        placeholder="Enter flight to" [(ngModel)]="model.flight.to" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Date to</label>
                                    <!-- <input class="form-control ih-medium  flatpickr-minimum" type="text" name="flightDateFrom" placeholder="Enter flight date to" 
                                [(ngModel)]="model.flight.dateTo"
                                
                                /> -->
                                    <app-date-picker name="flightDateTo"
                                        [(date)]="model.flight.dateTo"></app-date-picker>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Date from</label>
                                    <!-- <input class="form-control ih-medium  flatpickr-minimum" type="text" name="flightDateTo" placeholder="Enter flight date from" 
                                [(ngModel)]="model.flight.dateFrom"
                                
                                /> -->
                                    <app-date-picker name="flightDateFrom"
                                        [(date)]="model.flight.dateFrom"></app-date-picker>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <fieldset class="border mb-3 mt-4 pb-3 pe-3 ps-3 mb-5">
                        <div class="row">
                            <legend class="col-md-12">
                                <h3 class="bg-lighter border border-2 p-2" style="width: 200px;margin-top: -24px;">Hotel
                                </h3>
                            </legend>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Booking no</label>
                                    <input class="form-control ih-medium " type="text" name="customerName"
                                        placeholder="Enter booking no" [(ngModel)]="model.hotel.bookingNo" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Hotel</label>
                                    <ng-select2 class="form-control ih-medium p-0" [(ngModel)]="model.hotel.hotel"
                                        [data]="hotels" [placeholder]="'Please select hotel'">

                                    </ng-select2>
                                    <!-- <select class="form-control ih-medium choices-single2"
                                
                                [(ngModel)]="model.hotel.hotel"
                                >
                                    <option *ngFor="let h of hotels" [value]="h.name">{{ h.name }}</option>
                                </select> -->
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Nights</label>
                                    <input class="form-control ih-medium " type="text" name="customerName"
                                        placeholder="Enter nights" [(ngModel)]="model.hotel.nights" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    <label class="form-label">Room type</label>
                                    <ng-select2 class="form-control ih-medium p-0" [(ngModel)]="model.hotel.roomType"
                                        [data]="roomTypes" [placeholder]="'Please select room type'"></ng-select2>
                                    <!-- <select class="form-control ih-medium choices-single1"
                                [(ngModel)]="model.hotel.roomType"
                                >
                                    <option *ngFor="let h of roomTypes" [value]="h.display">{{ h.display }}</option>
                                </select> -->
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <div class="row mb-3">
                        <div class="col-md-12">
                            <button type="button" class="btn btn-info" (click)="onAddDestination()">
                                <i class="fa fa-plus"></i>
                                Add
                            </button>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <table class="table mb-0 table-borderless">
                                <tr class="userDatatable-header">
                                    <th>
                                        No
                                    </th>
                                    <th>
                                        Destination
                                    </th>
                                    <th>
                                        To
                                    </th>
                                    <th>
                                        From
                                    </th>
                                    <th>
                                        Action
                                    </th>
                                </tr>
                                <tr *ngFor="let r of destinationList;let ndx = index;">
                                    <td>
                                        {{ ndx + 1 }}
                                    </td>
                                    <td>
                                        {{ r.destination.destination }}
                                    </td>
                                    <td>
                                        {{ r.destination.dateTo }}
                                    </td>
                                    <td>
                                        {{ r.destination.dateFrom }}
                                    </td>
                                    <th>
                                        <ul class="orderDatatable_actions mb-0 d-flex flex-wrap">
                                            <li>
                                                <a (click)="removeRow(ndx)" style="cursor: pointer;" class="view">
                                                    <i class="uil uil-trash-alt"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </th>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Currency</label>
                                <select class="form-control ih-medium" [(ngModel)]="model.currency">
                                    <option value="usd">USD</option>
                                    <option value="aed">AED</option>
                                </select>
                                <!-- <input class="form-control ih-medium " type="number"
                                    placeholder="Enter price" [(ngModel)]="model.price" (keyup)="onPriceChange()" /> -->
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Price</label>
                                <input class="form-control ih-medium" type="number" 
                                    placeholder="Enter price" [(ngModel)]="model.price" (keyup)="onPriceChange()" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Discount</label>
                                <input class="form-control ih-medium " type="number" 
                                    placeholder="Enter discount" [(ngModel)]="model.discount"
                                    (keyup)="onPriceChange()" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Extra charges</label>
                                <input class="form-control ih-medium " type="number"
                                    placeholder="Enter extra charges" [(ngModel)]="model.extraCharges"
                                    (keyup)="onPriceChange()" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label class="form-label">Total</label>
                                <input class="form-control ih-medium " readonly type="number" 
                                    placeholder="Enter total" [(ngModel)]="model.totalPrice" />
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="card card-info">
                                <div class="card-header">
                                    <h4 class="mb-0">Select features</h4>
                                </div>
                                <div class="card-body d-flex flex-lg-wrap">
                                    <div class="p-3 border border-1 mb-2 me-2" *ngFor="let f of features">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" [id]="'flexSwitchCheckDefault'+f.id" [(ngModel)]="f.checked">
                                            <label class="form-check-label" [for]="'flexSwitchCheckDefault'+f.id">{{f.display}}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <button class="btn btn-primary" (click)="onFormSubmit()">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>